<?xml version="1.0"?>
<DDDefinition xmlns="http://www.cern.ch/cms/DDL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.cern.ch/cms/DDL ../../../DetectorDescription/Schema/DDLSchema.xsd">

<ConstantsSection label="pixfwdOuterDisk2.xml" eval="true">
  <Constant name="OuterRingRMax"        value="166.0*mm"/>
  <Constant name="OuterRingRMin"        value="[OuterRingRMax]-2.0*mm"/>
  <Constant name="OuterRingCFRMax"      value="[OuterRingRMin]"/>
  <Constant name="OuterRingCFRMin"      value="[OuterRingCFRMax]-0.5*mm"/>
<!--  <Constant name="OuterRingHalfWidth"   value="18.6*mm"/> -->
  <Constant name="OuterRingHalfWidth"   value="18.6*mm"/>
  <Constant name="OuterRingZ"           value="-[pixfwdDisks:DiskHalfWidth]+[OuterRingHalfWidth]"/>
  <Constant name="InnerRingRMax"      value="89.2*mm"/>
  <Constant name="InnerRingRMin"      value="[InnerRingRMax]-2.0*mm"/>
  <Constant name="InnerRingCFRMax"     value="[InnerRingRMin]"/>
  <Constant name="InnerRingCFRMin"     value="[InnerRingCFRMax]-0.5*mm"/>
<!--   <Constant name="InnerRingHalfWidth"   value="15.0*mm"/> -->
  <Constant name="InnerRingHalfWidth"   value="8.0*mm"/>
  <Constant name="InnerRingZ"           value="-[pixfwdDisks:DiskHalfWidth]+[InnerRingHalfWidth]"/>  

</ConstantsSection>
 

<SolidSection label="pixfwdOuterDisk2.xml">
</SolidSection>

<!-- support ring solids -->
<!-- each Algorithm creates on composite (union) solid that describes a cut
     ring according to the given outline. The z_l and z_t arrays describe the 
     -Z and +Z sides by giving the Z value for each of the values of the Phi
     array. The z values are only considered relatively, the object will be 
     centered around the origin and has to be placed using a PosPart tag.
     There are two instances each, for the Core and Skin (CF), which use the
     same parameters. TODO: find a way to factor them out.
--> 
<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDisk2"/>
  <String  name="SolidName"        value="PixelForwardOuterDiskOuterRing"/> 
  <Numeric name="rMin"             value="[OuterRingRMin]"/>
  <Numeric name="rMax"             value="[OuterRingRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="13">
  1.547*rad,1.631*rad,1.631*rad,2.112*rad,2.787*rad,3.022*rad,3.202*rad,3.676*rad,3.985*rad,4.580*rad,4.658*rad,4.658*rad,4.688*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="13">
   -308*mm,  -310*mm,  -317*mm,  -324*mm,  -331*mm,  -329*mm,  -318*mm,  -323*mm,  -329*mm,  -335*mm,  -330*mm,  -330*mm,  -325*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="13">
   -298*mm,  -291*mm,  -291*mm,  -291*mm,  -300*mm,  -303*mm,  -291*mm,  -291*mm,  -294*mm,  -304*mm,  -305*mm,  -310*mm,  -313*mm
  </Vector>
</Algorithm>
<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDisk2"/>
  <String  name="SolidName"        value="PixelForwardOuterDiskCFOuterRing"/> 
  <Numeric name="rMin"             value="[OuterRingCFRMin]"/>
  <Numeric name="rMax"             value="[OuterRingCFRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="13">
  1.547*rad,1.631*rad,1.631*rad,2.112*rad,2.787*rad,3.022*rad,3.202*rad,3.676*rad,3.985*rad,4.580*rad,4.658*rad,4.658*rad,4.688*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="13">
   -308*mm,  -310*mm,  -317*mm,  -324*mm,  -331*mm,  -329*mm,  -318*mm,  -323*mm,  -329*mm,  -335*mm,  -330*mm,  -330*mm,  -325*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="13">
   -298*mm,  -291*mm,  -291*mm,  -291*mm,  -300*mm,  -303*mm,  -291*mm,  -291*mm,  -294*mm,  -304*mm,  -305*mm,  -310*mm,  -313*mm
  </Vector>
</Algorithm>

<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDisk2"/>
  <String  name="SolidName"        value="PixelForwardOuterDiskInnerRing"/> 
  <Numeric name="rMin"             value="[InnerRingRMin]"/>
  <Numeric name="rMax"             value="[InnerRingRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="12">
  1.525*rad,1.628*rad,1.947*rad,2.487*rad,2.862*rad,3.119*rad,3.323*rad,3.323*rad,3.619*rad,4.115*rad,4.597*rad,4.770*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="12">
   -475*mm,  -483*mm,  -484*mm,  -491*mm,  -492*mm,  -479*mm,  -478*mm,  -481*mm,  -485*mm,  -495*mm,  -499*mm,  -493*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="12">
   -466*mm,  -461*mm,  -461*mm,  -470*mm,  -470*mm,  -462*mm,  -461*mm,  -461*mm,  -461*mm,  -471*mm,  -477*mm,  -486*mm
  </Vector>
</Algorithm>
<Algorithm name="track:DDCutTubsFromPoints">
  <rParent name="pixfwdDisks:PixelForwardDisk2"/>
  <String  name="SolidName"        value="PixelForwardOuterDiskCFInnerRing"/> 
  <Numeric name="rMin"             value="[InnerRingCFRMin]"/>
  <Numeric name="rMax"             value="[InnerRingCFRMax]"/>
  <Vector  name="Phi" type="numeric" nEntries="12">
  1.525*rad,1.628*rad,1.947*rad,2.487*rad,2.862*rad,3.119*rad,3.323*rad,3.323*rad,3.619*rad,4.115*rad,4.597*rad,4.770*rad
  </Vector>
  <Vector  name="z_l" type="numeric" nEntries="12">
   -475*mm,  -483*mm,  -484*mm,  -491*mm,  -492*mm,  -479*mm,  -478*mm,  -481*mm,  -485*mm,  -495*mm,  -499*mm,  -493*mm
  </Vector>
  <Vector  name="z_t" type="numeric" nEntries="12">
   -466*mm,  -461*mm,  -461*mm,  -470*mm,  -470*mm,  -462*mm,  -461*mm,  -461*mm,  -461*mm,  -471*mm,  -477*mm,  -486*mm
  </Vector>
</Algorithm>
 
<LogicalPartSection label="pixfwdOuterDisk2.xml">
 <LogicalPart name="PixelForwardOuterDiskInnerRing" category="support">
  <rSolid name="PixelForwardOuterDiskInnerRing"/>
  <rMaterial name="materials:C_C_OuterInnerRing"/>
 </LogicalPart>

 <LogicalPart name="PixelForwardOuterDiskOuterRing" category="support">
  <rSolid name="PixelForwardOuterDiskOuterRing"/>
  <rMaterial name="materials:C_C_OuterOuterRing"/>
 </LogicalPart>

 <LogicalPart name="PixelForwardOuterDiskCFInnerRing" category="support">
  <rSolid name="PixelForwardOuterDiskCFInnerRing"/>
  <rMaterial name="materials:FPix_CFSkin_OuterInnerRing"/>
 </LogicalPart>

 <LogicalPart name="PixelForwardOuterDiskCFOuterRing" category="support">
  <rSolid name="PixelForwardOuterDiskCFOuterRing"/>
  <rMaterial name="materials:FPix_CFSkin_OuterOuterRing"/>
 </LogicalPart>


</LogicalPartSection>


<PosPartSection label="pixfwdOuterDisk2.xml">
  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDisk2"/>
    <rChild name="pixfwdOuterDisk2:PixelForwardOuterDiskInnerRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[InnerRingZ]"/>
  </PosPart>

  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDisk2"/>
    <rChild name="pixfwdOuterDisk2:PixelForwardOuterDiskOuterRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[OuterRingZ]"/>
  </PosPart>

  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDisk2"/>
    <rChild name="pixfwdOuterDisk2:PixelForwardOuterDiskCFInnerRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[InnerRingZ]"/>
  </PosPart>

  <PosPart copyNumber="1">
    <rParent name="pixfwdDisks:PixelForwardDisk2"/>
    <rChild name="pixfwdOuterDisk2:PixelForwardOuterDiskCFOuterRing"/>
    <Translation x="0.*mm" y="0.*mm" z="[OuterRingZ]"/>
  </PosPart>
</PosPartSection>

<!-- Blades -->

<Algorithm name="track:DDPixFwdDiskAlgo">
  <rParent name="pixfwdDisks:PixelForwardDisk2"/>
  <String  name="ChildName"        value="pixfwdblade2:PixelForwardBlade"/> 
  <Numeric name="StartCopyNo"      value="22"/>
  <Numeric name="NumberOfBlades"   value="34"/>
  <Numeric name="BladeAngle"       value="20*deg"/>
  <Numeric name="BladeTilt"        value="0*deg"/>
  <Numeric name="BladeCommonZ"     value="-1.5*mm"/> <!-- -3.75*mm-->
  <Vector  name="BladeZShift" type="numeric" nEntries="34">
   -9.92*mm, -12.42*mm,-14.92*mm,-17.42*mm,-19.92*mm,-22.42*mm,-24.92*mm, -27.42*mm,
   -7.42*mm, -9.92*mm, -12.42*mm,-14.92*mm,-17.42*mm,-19.92*mm,-22.42*mm,-24.92*mm, -27.42*mm,
   -9.92*mm, -12.42*mm,-14.92*mm,-17.42*mm,-19.92*mm,-22.42*mm,-24.92*mm, -27.42*mm,
   -7.42*mm, -9.92*mm, -12.42*mm,-14.92*mm,-17.42*mm,-19.92*mm,-22.42*mm,-24.92*mm, -27.42*mm

  </Vector>
  <Numeric name="AnchorRadius"     value="127.5*mm"/>
  <String  name="RotationName"     value="pixfwdOuterDisk2:PixOuter"/>
  <String  name="FlagString"       value="YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY"/>
</Algorithm>


</DDDefinition>
